# Tạo Validation

Validation được dùng để validate dữ liệu trước khi gửi lên sever

Ví dụ: Tạo 1 file check validate cho form login

```tsx
import {IsEmail, IsNotEmpty, MaxLength, MinLength} from "class-validator";

export default class LoginValidation {
  @IsEmail(
    {pattern: /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},
    {
      message: "Email sai định dạng",
    }
  )
  @MaxLength(255, {
    message: "Email quá độ dài cho phép",
  })
  @IsNotEmpty({
    message: "Email không được để trống",
  })
  public email: string | undefined;
  // nhớ để ý key khi khai báo sau sẽ dùng để truyền vào thẻ ErrorMessage sẽ có ở ví dụ bên dưới
  @MinLength(8, {
    message: "common_validation.pass_shorter",
  })
  @MaxLength(50, {
    message: "common_validation.pass_longer",
  })
  @IsNotEmpty({
    message: "common_validation.pass_empty",
  })
  public password: string | undefined;
}
```

# B. Cách sử dụng

```tsx
import LoginValidation from "../../validation/LoginValidation";
export default function Login() {
  const [loginValidation] = useValidation(LoginValidation);

  return (
    <Formik
      validate={loginValidation}
      /// các hàm sử lý
    >
        <Input
            type="text"
            name="email"
            className="input"
        />
      <ErrorMessage component="div" className="c-warning pt-3" name="email" />
        <Input
            type="text"
            name="password"
            className="input"
        />
        <ErrorMessage component="div" className="c-warning pt-3" name="password" />
    </Formik>
  );
}
```
Thẻ ErrorMessage sẽ nhận name là key đã khai báo ở file loginValidation nên cần chú ý khi khai báo ở file validation

```tsx
<ErrorMessage component="div" className="c-warning pt-3" name="password" />
```
